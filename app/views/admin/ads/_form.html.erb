<style>
  .flex-form  label{
      color: #202020;
  }
    .flex-form {
  display: flex;
  flex-direction: column;
  gap: 16px; /* Espace entre les champs */
    }

    .flex-form h2 {
  margin: 0; /* Réduit l'espace après le titre */
    }

    .flex-form hr {
  margin-top: 16px; /* Réduit l'espace avant la ligne */
    }

    /* Styles pour les champs de formulaire */
    .flex-form .field {
  display: flex;
  flex-direction: column;
  gap: 8px; /* Espace entre le label et l'input */
    }

    .flex-form .field-checkbox {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
    }
    .flex-form .field-checkbox label {
  margin-bottom: 0;
    }
    .flex-form .field-checkbox input[type="checkbox"] {
  width: 20px;
  height: 20px;
    }

    /* Apparence des inputs */
    .flex-form input[type="text"],
    .flex-form input[type="url"],
    .flex-form input[type="date"],
    .flex-form input[type="file"],
    .flex-form textarea {
  width: calc(100% - 24px);
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-sizing: border-box;
    }
    .flex-form input[type="color"] {
  height: 50px;
  padding: 5px;
    }
    .flex-form .image-preview img {
  border-radius: 8px;
  border: 1px solid #ddd;
  max-width: 300px;
  height: auto;
    }
</style>
<%= form_with(model: [:admin, ad], local: true) do |form| %>
  <div class="flex-form" style="margin-top: 32px;">
    <% if ad.errors.any? %>
      <div id="error_explanation" style="color: #E61818; background-color: rgba(230, 24, 24, 0.1); border: 1px solid #E61818; padding: 15px; border-radius: 8px; margin-bottom: 24px;">
        <h2><%= pluralize(ad.errors.count, "erreur") %> empêche l'enregistrement :</h2>
        <ul style="padding-left: 20px; margin-top: 10px;">
          <% ad.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <h2>Statut</h2>
    <div class="field field-checkbox">
      <%= form.check_box :active %>
      <%= form.label :active, "Activer cette publicité ?" %>
    </div>
    <p class="desc-profil" style="margin-top: -10px;">
      Si décochée, la publicité n'apparaîtra nulle part, quelle que soit la date.
    </p>
    <hr>
    <h2>Contenu</h2>
    <div class="field">
      <%= form.label :title, "Titre principal" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>
    <div class="field">
      <%= form.label :description, "Sous-titre / Description" %>
      <%= form.text_area :description, class: "form-control", rows: 4 %>
    </div>
    <div class="field">
      <%= form.label :link, "Lien de redirection" %>
      <%= form.url_field :link, class: "form-control", placeholder: "https://www.exemple.com" %>
    </div>
    <hr>
    <h2>Apparence</h2>
    <div class="field">
      <%= form.label :image, "Image Desktop (principale)" %>
      <%= form.file_field :image, class: "form-control" %>
      <% if ad.image.attached? %>
        <div class="image-preview">
          <%= image_tag ad.image.variant(resize_to_limit: [200, 200]) %>
        </div>
      <% end %>
    </div>
    <div class="field">
      <%= form.label :image_mobile, "Image Mobile (optionnelle)" %>
      <i>Sera utilisée sur les écrans de moins de 800px.</i>
      <%= form.file_field :image_mobile, class: "form-control" %>
      <% if ad.image_mobile.attached? %>
        <div class="image-preview">
          <%= image_tag ad.image_mobile.variant(resize_to_limit: [200, 200]) %>
        </div>
      <% end %>
    </div>
    <hr>
    <h2>Programmation (Optionnel)</h2>
    <p class="desc-profil">Laissez les dates vides pour une diffusion permanente.</p>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
      <div class="field">
        <%= form.label :start_date, "Date de début" %>
        <%= form.date_field :start_date, class: "form-control" %>
      </div>
      <div class="field">
        <%= form.label :end_date, "Date de fin" %>
        <%= form.date_field :end_date, class: "form-control" %>
      </div>
    </div>
    <div class="actions">
      <%= form.submit ad.new_record? ? "Créer la publicité" : "Mettre à jour", class: "button large maj dark" %>
    </div>
  </div>
<% end %>