<style>
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
  .validation{
    background-color: rgba(0, 0, 0, 0.5);
    top: 0;
    left: 0;
    position: fixed;
    z-index: 9999;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    color:#FFF;
    gap: 32px;
  }
  .validation-title{
    font-size: 22px;
    font-weight: 500;
  }
  .validation-text{
    font-size: 18px;
    color:#D9D9D9;
    width: 40vw;
    text-align:center;
  }
  .overlay-bottom{
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 30%;
    background-color: rgba(0, 0, 0, 0.5); /* couleur semi-transparente */
    z-index: 999; /* assurez-vous que l'overlay est au-dessus de tous les autres éléments */
  }
  .naviguation{
      bottom: 0;
    left: 0;
    width: 100%;
    height: 30%;
    position: fixed;
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    color:#FFF;
    gap: 64px;
  }
  .logo-overlay{
    position: absolute;
    left: 35px;
    top: 35px;
  }
  .popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ffffff;
    border-radius:10px;
    z-index: 1000;
    width: 600px;
    padding-bottom:45px
  }
   .popup form{
    padding: 0 50px;
   }
  .top-popup{
    border-radius:10px 10px 0 0;
    height: 80px;
    width: 100%;
    background-color: #F7F7F7;
    position: relative;
  }
  .close-popup{
    position: absolute;
    right: 25px;
    top:35%;
    scale:0.7;
    cursor: pointer;
  }
  .close-popup:hover{
    opacity: 0.6;
  }
  .box-list{
    align-items: center;
    margin-top: 24px;
    display: flex;
    justify-content: space-between;
  }
  .box-list-left{
    display: flex;
    align-items: center;
  }
  .box-list svg{
    scale: 0.9;
    cursor: pointer;
  }

  .box-list svg:hover{
    opacity: 0.8;
  }
  .img-list{
    width: 80px;
    height: 80px;
    background-color: #D9D9D9;
    border-radius:5px;
    margin-right: 16px;
  }
  .title-list{
    font-size: 20px;
    color:#202020;
    margin-bottom: 8px;
    font-weight: 500;
  }
  .nb-list{
    font-size: 16px;
    color:#8D9299;
  }
  .flex-title-popup{
    margin-top: 32px;
    padding: 0 50px;
    display: flex;
    justify-content:space-between;
  }
  .title-popup{
    color:#202020;
    font-weight: 500;
    font-size: 20px;
  }
  .popup-link-add{
    font-size: 18px;
    color: #202020;
    text-decoration:underline;
  }
  .hover-btn{
    display: none;
  }

  /* Afficher l'élément svg lorsqu'on survole le bouton */
  .add-to-list-btn:hover + .hover-btn{
    display: block;
  }
  #back-btn{
    background: none;
    border: none;
  }
</style>
<div class="body-show" id="<%= dom_id designer %>">
  <% image_path = "/designers/#{designer.nom_designer.gsub(' ', '_')}.png" %>
  <div class="header-show"
   <% if file_exists?(image_path) %>
   style="background-image: url('/assets/<%= image_path %>');"
  <% else %>
    style="background-image: url('<%= designer.image%>');"
  <% end %>>
    <button id="back-btn">
      <div class="circle-back">
        <svg width="32" height="29" viewBox="0 0 32 29" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M31 14.3252L1.86772 14.3252M1.86772 14.3252L12.7923 26.6504M1.86772 14.3252L12.7923 2" stroke="white" stroke-width="2" stroke-linecap="square"/>
        </svg>
      </div>
    </button>
    <% unless !user_signed_in? %>
      <button id="openPopup" style="border:none; background:none;">
        <div class="circle-save">
          <svg width="22" height="30" viewBox="0 0 22 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.8857 0.428467H5.22861C2.75146 0.428467 0.857178 2.32275 0.857178 4.7999V28.1142C0.857178 28.4056 0.857178 28.5513 1.00289 28.8428C1.44003 29.5713 2.31432 29.717 3.04289 29.4256L11.0572 24.7628L19.0715 29.4256C19.3629 29.5713 19.5086 29.5713 19.8 29.5713C20.6743 29.5713 21.2572 28.9885 21.2572 28.1142V4.7999C21.2572 2.32275 19.3629 0.428467 16.8857 0.428467Z" fill="#F7F7F7"/>
          </svg>
        </div>
      </button>
    <% end %>
    <p class="info-card-dark date-header info-header-show">
      <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.8681 19.1426C11.0728 19.1426 11.273 19.0819 11.4432 18.9681C11.6134 18.8544 11.7461 18.6927 11.8244 18.5036C11.9028 18.3144 11.9233 18.1063 11.8833 17.9055C11.8434 17.7047 11.7448 17.5203 11.6 17.3755C11.4553 17.2308 11.2708 17.1322 11.07 17.0922C10.8692 17.0523 10.6611 17.0728 10.472 17.1512C10.2828 17.2295 10.1212 17.3622 10.0074 17.5324C9.89371 17.7026 9.833 17.9027 9.833 18.1075C9.833 18.382 9.94205 18.6453 10.1362 18.8394C10.3303 19.0335 10.5936 19.1426 10.8681 19.1426ZM16.0436 19.1426C16.2483 19.1426 16.4485 19.0819 16.6187 18.9681C16.7889 18.8544 16.9216 18.6927 16.9999 18.5036C17.0783 18.3144 17.0988 18.1063 17.0588 17.9055C17.0189 17.7047 16.9203 17.5203 16.7755 17.3755C16.6308 17.2308 16.4463 17.1322 16.2455 17.0922C16.0448 17.0523 15.8366 17.0728 15.6475 17.1512C15.4584 17.2295 15.2967 17.3622 15.183 17.5324C15.0692 17.7026 15.0085 17.9027 15.0085 18.1075C15.0085 18.382 15.1176 18.6453 15.3117 18.8394C15.5058 19.0335 15.7691 19.1426 16.0436 19.1426ZM16.0436 15.0022C16.2483 15.0022 16.4485 14.9414 16.6187 14.8277C16.7889 14.714 16.9216 14.5523 16.9999 14.3632C17.0783 14.174 17.0988 13.9659 17.0588 13.7651C17.0189 13.5643 16.9203 13.3799 16.7755 13.2351C16.6308 13.0904 16.4463 12.9918 16.2455 12.9518C16.0448 12.9119 15.8366 12.9324 15.6475 13.0107C15.4584 13.0891 15.2967 13.2218 15.183 13.392C15.0692 13.5622 15.0085 13.7623 15.0085 13.9671C15.0085 14.2416 15.1176 14.5049 15.3117 14.699C15.5058 14.8931 15.7691 15.0022 16.0436 15.0022ZM10.8681 15.0022C11.0728 15.0022 11.273 14.9414 11.4432 14.8277C11.6134 14.714 11.7461 14.5523 11.8244 14.3632C11.9028 14.174 11.9233 13.9659 11.8833 13.7651C11.8434 13.5643 11.7448 13.3799 11.6 13.2351C11.4553 13.0904 11.2708 12.9918 11.07 12.9518C10.8692 12.9119 10.6611 12.9324 10.472 13.0107C10.2828 13.0891 10.1212 13.2218 10.0074 13.392C9.89371 13.5622 9.833 13.7623 9.833 13.9671C9.833 14.2416 9.94205 14.5049 10.1362 14.699C10.3303 14.8931 10.5936 15.0022 10.8681 15.0022ZM18.1138 2.58094H17.0787V1.54584C17.0787 1.27132 16.9697 1.00804 16.7755 0.813916C16.5814 0.619797 16.3181 0.510742 16.0436 0.510742C15.7691 0.510742 15.5058 0.619797 15.3117 0.813916C15.1176 1.00804 15.0085 1.27132 15.0085 1.54584V2.58094H6.7277V1.54584C6.7277 1.27132 6.61864 1.00804 6.42452 0.813916C6.2304 0.619797 5.96712 0.510742 5.6926 0.510742C5.41807 0.510742 5.15479 0.619797 4.96067 0.813916C4.76655 1.00804 4.65749 1.27132 4.65749 1.54584V2.58094H3.62239C2.79882 2.58094 2.00897 2.90811 1.42661 3.49047C0.844255 4.07282 0.51709 4.86267 0.51709 5.68625V20.1777C0.51709 21.0012 0.844255 21.7911 1.42661 22.3734C2.00897 22.9558 2.79882 23.283 3.62239 23.283H18.1138C18.9374 23.283 19.7272 22.9558 20.3096 22.3734C20.8919 21.7911 21.2191 21.0012 21.2191 20.1777V5.68625C21.2191 4.86267 20.8919 4.07282 20.3096 3.49047C19.7272 2.90811 18.9374 2.58094 18.1138 2.58094ZM19.1489 20.1777C19.1489 20.4522 19.0399 20.7155 18.8457 20.9096C18.6516 21.1037 18.3883 21.2128 18.1138 21.2128H3.62239C3.34787 21.2128 3.08459 21.1037 2.89047 20.9096C2.69635 20.7155 2.58729 20.4522 2.58729 20.1777V10.8618H19.1489V20.1777ZM19.1489 8.79155H2.58729V5.68625C2.58729 5.41172 2.69635 5.14844 2.89047 4.95432C3.08459 4.7602 3.34787 4.65115 3.62239 4.65115H4.65749V5.68625C4.65749 5.96077 4.76655 6.22406 4.96067 6.41817C5.15479 6.61229 5.41807 6.72135 5.6926 6.72135C5.96712 6.72135 6.2304 6.61229 6.42452 6.41817C6.61864 6.22406 6.7277 5.96077 6.7277 5.68625V4.65115H15.0085V5.68625C15.0085 5.96077 15.1176 6.22406 15.3117 6.41817C15.5058 6.61229 15.7691 6.72135 16.0436 6.72135C16.3181 6.72135 16.5814 6.61229 16.7755 6.41817C16.9697 6.22406 17.0787 5.96077 17.0787 5.68625V4.65115H18.1138C18.3883 4.65115 18.6516 4.7602 18.8457 4.95432C19.0399 5.14844 19.1489 5.41172 19.1489 5.68625V8.79155ZM5.6926 15.0022C5.89732 15.0022 6.09745 14.9414 6.26767 14.8277C6.43789 14.714 6.57056 14.5523 6.6489 14.3632C6.72725 14.174 6.74775 13.9659 6.70781 13.7651C6.66787 13.5643 6.56928 13.3799 6.42452 13.2351C6.27976 13.0904 6.09532 12.9918 5.89453 12.9518C5.69374 12.9119 5.48562 12.9324 5.29648 13.0107C5.10734 13.0891 4.94568 13.2218 4.83194 13.392C4.7182 13.5622 4.65749 13.7623 4.65749 13.9671C4.65749 14.2416 4.76655 14.5049 4.96067 14.699C5.15479 14.8931 5.41807 15.0022 5.6926 15.0022ZM5.6926 19.1426C5.89732 19.1426 6.09745 19.0819 6.26767 18.9681C6.43789 18.8544 6.57056 18.6927 6.6489 18.5036C6.72725 18.3144 6.74775 18.1063 6.70781 17.9055C6.66787 17.7047 6.56928 17.5203 6.42452 17.3755C6.27976 17.2308 6.09532 17.1322 5.89453 17.0922C5.69374 17.0523 5.48562 17.0728 5.29648 17.1512C5.10734 17.2295 4.94568 17.3622 4.83194 17.5324C4.7182 17.7026 4.65749 17.9027 4.65749 18.1075C4.65749 18.382 4.76655 18.6453 4.96067 18.8394C5.15479 19.0335 5.41807 19.1426 5.6926 19.1426Z" fill="white"/>
      </svg>
      <%= designer.date_naissance %>
    </p>
    <%= content_tag :div, class: 'info-card-dark domaine-header info-header-show' do %>
      <%= country_flag(designer.country.country_numeric) %>
    <% end %>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('back-button').addEventListener('click', function() {
          if (history.length > 1) {
            history.back();
          } else {
            window.location.href = '<%= designer_path %>';
          }
        });
      });
    </script>
    <div class="header-top">
      <p class="designer-card"><%= @designer.country.country %> </p>
      <p class="title-card"><%= designer.nom_designer %></p>
      <div class="flex-info">
        <%= link_to search_frise_path do %>
          <p class="info-card">
            <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.8681 19.1426C11.0728 19.1426 11.273 19.0819 11.4432 18.9681C11.6134 18.8544 11.7461 18.6927 11.8244 18.5036C11.9028 18.3144 11.9233 18.1063 11.8833 17.9055C11.8434 17.7047 11.7448 17.5203 11.6 17.3755C11.4553 17.2308 11.2708 17.1322 11.07 17.0922C10.8692 17.0523 10.6611 17.0728 10.472 17.1512C10.2828 17.2295 10.1212 17.3622 10.0074 17.5324C9.89371 17.7026 9.833 17.9027 9.833 18.1075C9.833 18.382 9.94205 18.6453 10.1362 18.8394C10.3303 19.0335 10.5936 19.1426 10.8681 19.1426ZM16.0436 19.1426C16.2483 19.1426 16.4485 19.0819 16.6187 18.9681C16.7889 18.8544 16.9216 18.6927 16.9999 18.5036C17.0783 18.3144 17.0988 18.1063 17.0588 17.9055C17.0189 17.7047 16.9203 17.5203 16.7755 17.3755C16.6308 17.2308 16.4463 17.1322 16.2455 17.0922C16.0448 17.0523 15.8366 17.0728 15.6475 17.1512C15.4584 17.2295 15.2967 17.3622 15.183 17.5324C15.0692 17.7026 15.0085 17.9027 15.0085 18.1075C15.0085 18.382 15.1176 18.6453 15.3117 18.8394C15.5058 19.0335 15.7691 19.1426 16.0436 19.1426ZM16.0436 15.0022C16.2483 15.0022 16.4485 14.9414 16.6187 14.8277C16.7889 14.714 16.9216 14.5523 16.9999 14.3632C17.0783 14.174 17.0988 13.9659 17.0588 13.7651C17.0189 13.5643 16.9203 13.3799 16.7755 13.2351C16.6308 13.0904 16.4463 12.9918 16.2455 12.9518C16.0448 12.9119 15.8366 12.9324 15.6475 13.0107C15.4584 13.0891 15.2967 13.2218 15.183 13.392C15.0692 13.5622 15.0085 13.7623 15.0085 13.9671C15.0085 14.2416 15.1176 14.5049 15.3117 14.699C15.5058 14.8931 15.7691 15.0022 16.0436 15.0022ZM10.8681 15.0022C11.0728 15.0022 11.273 14.9414 11.4432 14.8277C11.6134 14.714 11.7461 14.5523 11.8244 14.3632C11.9028 14.174 11.9233 13.9659 11.8833 13.7651C11.8434 13.5643 11.7448 13.3799 11.6 13.2351C11.4553 13.0904 11.2708 12.9918 11.07 12.9518C10.8692 12.9119 10.6611 12.9324 10.472 13.0107C10.2828 13.0891 10.1212 13.2218 10.0074 13.392C9.89371 13.5622 9.833 13.7623 9.833 13.9671C9.833 14.2416 9.94205 14.5049 10.1362 14.699C10.3303 14.8931 10.5936 15.0022 10.8681 15.0022ZM18.1138 2.58094H17.0787V1.54584C17.0787 1.27132 16.9697 1.00804 16.7755 0.813916C16.5814 0.619797 16.3181 0.510742 16.0436 0.510742C15.7691 0.510742 15.5058 0.619797 15.3117 0.813916C15.1176 1.00804 15.0085 1.27132 15.0085 1.54584V2.58094H6.7277V1.54584C6.7277 1.27132 6.61864 1.00804 6.42452 0.813916C6.2304 0.619797 5.96712 0.510742 5.6926 0.510742C5.41807 0.510742 5.15479 0.619797 4.96067 0.813916C4.76655 1.00804 4.65749 1.27132 4.65749 1.54584V2.58094H3.62239C2.79882 2.58094 2.00897 2.90811 1.42661 3.49047C0.844255 4.07282 0.51709 4.86267 0.51709 5.68625V20.1777C0.51709 21.0012 0.844255 21.7911 1.42661 22.3734C2.00897 22.9558 2.79882 23.283 3.62239 23.283H18.1138C18.9374 23.283 19.7272 22.9558 20.3096 22.3734C20.8919 21.7911 21.2191 21.0012 21.2191 20.1777V5.68625C21.2191 4.86267 20.8919 4.07282 20.3096 3.49047C19.7272 2.90811 18.9374 2.58094 18.1138 2.58094ZM19.1489 20.1777C19.1489 20.4522 19.0399 20.7155 18.8457 20.9096C18.6516 21.1037 18.3883 21.2128 18.1138 21.2128H3.62239C3.34787 21.2128 3.08459 21.1037 2.89047 20.9096C2.69635 20.7155 2.58729 20.4522 2.58729 20.1777V10.8618H19.1489V20.1777ZM19.1489 8.79155H2.58729V5.68625C2.58729 5.41172 2.69635 5.14844 2.89047 4.95432C3.08459 4.7602 3.34787 4.65115 3.62239 4.65115H4.65749V5.68625C4.65749 5.96077 4.76655 6.22406 4.96067 6.41817C5.15479 6.61229 5.41807 6.72135 5.6926 6.72135C5.96712 6.72135 6.2304 6.61229 6.42452 6.41817C6.61864 6.22406 6.7277 5.96077 6.7277 5.68625V4.65115H15.0085V5.68625C15.0085 5.96077 15.1176 6.22406 15.3117 6.41817C15.5058 6.61229 15.7691 6.72135 16.0436 6.72135C16.3181 6.72135 16.5814 6.61229 16.7755 6.41817C16.9697 6.22406 17.0787 5.96077 17.0787 5.68625V4.65115H18.1138C18.3883 4.65115 18.6516 4.7602 18.8457 4.95432C19.0399 5.14844 19.1489 5.41172 19.1489 5.68625V8.79155ZM5.6926 15.0022C5.89732 15.0022 6.09745 14.9414 6.26767 14.8277C6.43789 14.714 6.57056 14.5523 6.6489 14.3632C6.72725 14.174 6.74775 13.9659 6.70781 13.7651C6.66787 13.5643 6.56928 13.3799 6.42452 13.2351C6.27976 13.0904 6.09532 12.9918 5.89453 12.9518C5.69374 12.9119 5.48562 12.9324 5.29648 13.0107C5.10734 13.0891 4.94568 13.2218 4.83194 13.392C4.7182 13.5622 4.65749 13.7623 4.65749 13.9671C4.65749 14.2416 4.76655 14.5049 4.96067 14.699C5.15479 14.8931 5.41807 15.0022 5.6926 15.0022ZM5.6926 19.1426C5.89732 19.1426 6.09745 19.0819 6.26767 18.9681C6.43789 18.8544 6.57056 18.6927 6.6489 18.5036C6.72725 18.3144 6.74775 18.1063 6.70781 17.9055C6.66787 17.7047 6.56928 17.5203 6.42452 17.3755C6.27976 17.2308 6.09532 17.1322 5.89453 17.0922C5.69374 17.0523 5.48562 17.0728 5.29648 17.1512C5.10734 17.2295 4.94568 17.3622 4.83194 17.5324C4.7182 17.7026 4.65749 17.9027 4.65749 18.1075C4.65749 18.382 4.76655 18.6453 4.96067 18.8394C5.15479 19.0335 5.41807 19.1426 5.6926 19.1426Z" fill="white"/>
            </svg>
            <%= designer.date_naissance %>
          </p>
        <%end%>
        <p class="info-card">
          <%= country_flag(designer.country.country_numeric) %>
          <%= designer.country.country %>
        </p>
      </div>
    </div>
  </div>
  <div class="content-show">
    <div class="text-show">
      <div class="title-box-oeuvre hidden">
        <p class="designer-card"><%= @designer.country.country %></p>
        <h2 class="title-card"><%= designer.nom_designer %></h2>
      </div>
      <h3 class="title-description-card">Description</h3>
      <p class="description-card"><%= designer.description %></p>
      <h3 class="title-description-card">Actions</h3>
      <div class="flex-actions">
        <a href="" class="button-circle">
          <div class="circle">
            <svg width="33" height="36" viewBox="0 0 33 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M26.5202 23.7141C24.5681 23.7141 22.8194 24.6495 21.7214 26.0728L11.839 20.3386C12.449 18.8339 12.449 17.1665 11.839 15.6618L21.7214 9.92761C22.8194 11.351 24.5681 12.2864 26.5202 12.2864C29.8956 12.2864 32.6204 9.5616 32.6204 6.18615C32.6204 2.8107 29.8956 0.0859375 26.5202 0.0859375C23.1447 0.0859375 20.42 2.8107 20.42 6.18615C20.42 6.99951 20.5826 7.81287 20.8673 8.50423L10.985 14.2791C9.84627 12.8557 8.13822 11.9203 6.18615 11.9203C2.8107 11.9203 0.0859375 14.6451 0.0859375 18.0206C0.0859375 21.396 2.8107 24.1208 6.18615 24.1208C8.13822 24.1208 9.88694 23.1854 10.985 21.762L20.8673 27.4962C20.5826 28.1876 20.42 29.0009 20.42 29.8143C20.42 33.1897 23.1447 35.9145 26.5202 35.9145C29.8956 35.9145 32.6204 33.1897 32.6204 29.8143C32.6204 26.4388 29.8956 23.7141 26.5202 23.7141ZM26.5202 1.75333C29.0009 1.75333 30.9937 3.74606 30.9937 6.22682C30.9937 8.70757 29.0009 10.7003 26.5202 10.7003C24.0394 10.7003 22.0467 8.70757 22.0467 6.22682C22.0467 3.74606 24.0394 1.75333 26.5202 1.75333ZM6.18615 22.494C3.7054 22.494 1.71266 20.5013 1.71266 18.0206C1.71266 15.5398 3.7054 13.5471 6.18615 13.5471C8.6669 13.5471 10.6596 15.5398 10.6596 18.0206C10.6596 20.5013 8.6669 22.494 6.18615 22.494ZM26.5202 34.2878C24.0394 34.2878 22.0467 32.2951 22.0467 29.8143C22.0467 27.3335 24.0394 25.3408 26.5202 25.3408C29.0009 25.3408 30.9937 27.3335 30.9937 29.8143C30.9937 32.2951 29.0009 34.2878 26.5202 34.2878Z" fill="white"/>
            </svg>
          </div>
          <p>Partager</p>
        </a>
        <%= link_to  new_bug_report_path(url: request.original_url), class: "button-circle" do %>
          <div class="circle">
            <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M25.4245 0.0859375H10.5755L0.0856934 10.5757V25.4147L10.5755 35.9145H25.4145L35.9143 25.4247V10.5757L25.4245 0.0859375ZM18 28.5497C16.5768 28.5497 15.4124 27.3953 15.4124 25.9621C15.4124 24.5389 16.5768 23.3745 18 23.3745C18.6738 23.3932 19.3138 23.674 19.7838 24.1573C20.2539 24.6405 20.5168 25.288 20.5168 25.9621C20.5168 26.6362 20.2539 27.2838 19.7838 27.767C19.3138 28.2502 18.6738 28.5311 18 28.5497ZM19.9905 19.9907H16.0095V8.04784H19.9905V19.9907Z" fill="white"/>
            </svg>
          </div>
          <p>Signaler une erreur</p>
        <%end%>
      </div>
      <div class="contribution">
        <h3 class="title-description-card">Contribution</h3>
        <div class="flex-contributor">
          <div class="box-contributor">
            <% if designer.user_id.present? %>
              <% user = User.find_by(id: designer.user_id) %>
              <span class="contributor"> <%= user.present? ? user.pseudo : "Omniscient Design" %></span>
            <% else %>
              <span class="contributor">Omniscient Design</span>
            <% end %>
            <p class="text-contributor">A enrichi votre apprentissage en ajoutant ce/cette designer le <%= I18n.l(designer.created_at, format: :default) %></p>
          </div>
          <div class="vertical-divider"></div>
          <div class="box-contributor">
            <% if @designer.validated_by_user_id.present? %>
              <% user = User.find_by(id: @designer.validated_by_user_id) %>
              <span class="contributor"> <%= user.present? ? user.pseudo : "Omniscient Design" %></span>
            <% else %>
              <span class="contributor">Omniscient Design</span>
            <% end %>
            <p class="text-contributor">a validé l’œuvre <%= @designer.nom_designer %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="next-card">
    <% designer_oeuvres = @designer.oeuvres.where(validation: true)
                             .limit(3) %>
    <% if designer_oeuvres.any? %>
      <h3 class="title-description-card">Œuvres du designer</h3>
      <div class="oeuvres-same">
        <% designer_oeuvres.each do |oeuvre| %>
          <%= link_to oeuvre do %>
            <div class="oeuvre-card">
              <div class="oeuvre-card-image" style="background-image: url('<%= oeuvre.image %>');">
                <div class="oeuvre-card-content">
                  <p class="oeuvre-designer"><%= oeuvre.designer.nom_designer %></p>
                  <h2 class="oeuvre-title"><%= oeuvre.nom_oeuvre %></h2>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    <% end %>
    <h3 class="title-description-card">Découvrir d'autres designers</h3>
    <div class="oeuvres-same">
      <% designers = Designer.all
                           .where.not(id: @designer.id)
                           .order("RANDOM()")
                           .limit(5) %>
      <% designers.each do |designer| %>
        <%= link_to designer do %>
          <div class="oeuvre-card">
            <div class="oeuvre-card-image" style="background-image: url('<%= designer.image %>');">
              <div class="oeuvre-card-content">
                <h2 class="oeuvre-title"><%= designer.nom_designer %></h2>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
<% if !designer.validation %>
  <div class="overlay-bottom" id="overlay-bottom">
    <div class="naviguation">
      <p class="naviguation-title">Que souhaitez-vous faire ?</p>
      <div class="naviguation-buttons">
        <%= link_to "Ajouter un autre 🫵", add_elements_path, class: "button" %>
        <% if user_signed_in? && current_user.id == designer.user_id || current_user.admin? %>
          <%= link_to 'Annuler la soumission ❌', cancel_designer_path(designer), method: :delete, class: 'button', data: { confirm: 'Êtes-vous sûr de vouloir annuler la soumission de cette référence ?' } %>
        <% end %>
        <%= link_to "Retour à l'accueil ✅", designers_path, class: "button" %>
      </div>
    </div>
  </div>
  <div class="validation" id="validation">
    <%= image_tag "logo-white.svg", alt: "", class: "logo-overlay" %>
    <svg width="76" height="73" viewBox="0 0 76 73" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M69 33.4961V36.5186C68.996 43.527 66.7266 50.3463 62.5303 55.9595C58.334 61.5727 52.4357 65.6791 45.7149 67.6663C38.9941 69.6534 31.8111 69.4148 25.237 66.986C18.663 64.5572 13.0501 60.0684 9.23562 54.1891C5.42112 48.3097 3.60932 41.3548 4.07045 34.3616C4.53158 27.3684 7.24092 20.7117 11.7944 15.3841C16.3479 10.0565 22.5015 6.34359 29.3376 4.79908C36.1737 3.25456 43.3259 3.9612 49.7275 6.8136" stroke="white" stroke-width="6.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M72.25 7.26895L36.5 43.0189L26.75 33.2689" stroke="#06D7A0" stroke-width="6.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <p class="validation-title">Merci pour votre contribution !</p>
    <p class="validation-text">Votre fiche est actuellement en cours de traitement. Veuillez noter que ce processus peut prendre quelques jours. Vous serez informé(e) via votre compte dès que celle-ci sera traitée.</p>
    <svg width="30" height="45" viewBox="0 0 30 45" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M27.8206 3L15.4103 14L3.00009 3" stroke="white" stroke-opacity="0.1" stroke-width="3.0207" stroke-linecap="square"/>
      <path d="M27.8206 17L15.4103 28L3.00009 17" stroke="white" stroke-opacity="0.5" stroke-width="3.0207" stroke-linecap="square"/>
      <path d="M27.8206 31L15.4103 42L3.00009 31" stroke="white" stroke-width="3.0207" stroke-linecap="square"/>
    </svg>
  </div>
  <div class="overlay" id="overlay">
  </div>
<% end %>
<script>
  // Sélectionner l'élément de validation et l'overlay
  const validation = document.getElementById('validation');
  const overlay = document.getElementById('overlay');

  // Fonction pour masquer l'élément de validation et l'overlay lorsque l'utilisateur fait défiler la page
  function hideValidation() {
    validation.style.display = 'none';
    overlay.style.display = 'none';
    // Supprimer l'écouteur d'événement une fois que l'élément est masqué
    window.removeEventListener('scroll', hideValidation);
  }

  // Ajouter un écouteur d'événement pour détecter le défilement de la page
  window.addEventListener('scroll', hideValidation);
</script>
<script>
  const overlaybottom = document.getElementById('overlay-bottom');

  // Fonction pour masquer l'élément de validation et l'overlay lorsque l'utilisateur fait défiler la page
  function seenValidation() {
    overlaybottom.style.display = 'block';
    // Supprimer l'écouteur d'événement une fois que l'élément est masqué
    window.removeEventListener('scroll', seenValidation);
  }

  // Ajouter un écouteur d'événement pour détecter le défilement de la page
  window.addEventListener('scroll', seenValidation);
</script>
<script>
  $(document).ready(function() {
      var initialHeight = $('.header-show').outerHeight(); // Stocker la hauteur initiale du header

      $(window).scroll(function() { // Ajouter un écouteur d'événements de défilement
          var currentScroll = $(window).scrollTop(); // Obtenir la position actuelle de défilement

          if (currentScroll > 30) { // Vérifier si vous avez fait défiler vers le bas (position de défilement actuelle est supérieure à 0)
              $('.header-show').addClass('small-height'); // Ajouter la classe pour la hauteur réduit
              $('.header-top').addClass('show-header-top'); // Ajouter la classe pour afficher le header top
              $('.hidden').addClass('hidden');
              $('.info-header-show').addClass('hidden');
              $('.content-show').css('margin-top', '50vh'); // Appliquer la nouvelle marge supérieure
          } else { // Si vous êtes en haut de la page (position de défilement actuelle est 0), restaurer la hauteur initiale
              $('.header-show').removeClass('small-height'); // Supprimer la classe pour restaurer la hauteur initiale
              $('.header-top').removeClass('show-header-top'); // Supprimer la classe pour cacher le header top
              $('.hidden').removeClass('hidden');
              $('.info-header-show').removeClass('hidden');
              $('.content-show').css('margin-top', '20px'); // Réinitialiser la marge supérieure à sa valeur initiale
          }
      });
  });
</script>
<div id="popup" class="popup">
  <div class="top-popup">
    <svg class="close-popup" id="closePopup" width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M19.9941 16.9964L33.3719 3.63981C33.7717 3.23995 33.9964 2.69763 33.9964 2.13215C33.9964 1.56667 33.7717 1.02435 33.3719 0.624492C32.972 0.224637 32.4297 0 31.8642 0C31.2987 0 30.7564 0.224637 30.3566 0.624492L17 14.0023L3.64343 0.624492C3.24358 0.224637 2.70125 5.02059e-07 2.13577 5.06273e-07C1.57029 5.10486e-07 1.02797 0.224637 0.628116 0.624492C0.228261 1.02435 0.00362441 1.56667 0.00362441 2.13215C0.0036244 2.69763 0.228261 3.23995 0.628116 3.63981L14.0059 16.9964L0.628116 30.3529C0.429087 30.5504 0.271115 30.7852 0.163309 31.044C0.055504 31.3027 0 31.5803 0 31.8606C0 32.1409 0.055504 32.4185 0.163309 32.6772C0.271115 32.936 0.429087 33.1709 0.628116 33.3683C0.825519 33.5673 1.06038 33.7253 1.31914 33.8331C1.5779 33.9409 1.85545 33.9964 2.13577 33.9964C2.4161 33.9964 2.69364 33.9409 2.95241 33.8331C3.21117 33.7253 3.44603 33.5673 3.64343 33.3683L17 19.9905L30.3566 33.3683C30.554 33.5673 30.7888 33.7253 31.0476 33.8331C31.3064 33.9409 31.5839 33.9964 31.8642 33.9964C32.1445 33.9964 32.4221 33.9409 32.6809 33.8331C32.9396 33.7253 33.1745 33.5673 33.3719 33.3683C33.5709 33.1709 33.7289 32.936 33.8367 32.6772C33.9445 32.4185 34 32.1409 34 31.8606C34 31.5803 33.9445 31.3027 33.8367 31.044C33.7289 30.7852 33.5709 30.5504 33.3719 30.3529L19.9941 16.9964Z" fill="#202020"/>
    </svg>
  </div>
  <div class="flex-title-popup">
    <p class="title-popup">Ajouter dans une liste</p>
    <%= link_to 'Créer une liste', new_list_path, class: "popup-link-add" %>
  </div>
  <% @lists.each do |list| %>
    <%= form_with(url: add_designer_list_path(@designer), method: "post") do |form| %>
      <div class="field">
        <%= form.hidden_field :list_id, value: list.id %>
        <div class="box-list">
          <%= link_to list, class: "box-list-left" do %>
            <div class="img-list"></div>
            <div class="box-text-list">
              <p class="title-list"><%= list.name %></p>
              <p class="nb-list"><%= list.designers.count + list.oeuvres.count %> Références</p>
            </div>
          <%end%>
          <% if @designer.lists.include?(list) %>
            <%= link_to remove_designer_list_url(list.id, designer_id: @designer.id), method: :delete do %>
              <svg class="remove-from-list-btn" id="remove-from-list-btn-<%= list.id %>" data-list-id="<%= list.id %>" width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_834_332)">
                  <path d="M18.5 37C13.5935 37 8.88795 35.0509 5.41852 31.5815C1.9491 28.1121 0 23.4065 0 18.5C0 13.5935 1.9491 8.88795 5.41852 5.41852C8.88795 1.9491 13.5935 0 18.5 0C23.4065 0 28.1121 1.9491 31.5815 5.41852C35.0509 8.88795 37 13.5935 37 18.5C37 23.4065 35.0509 28.1121 31.5815 31.5815C28.1121 35.0509 23.4065 37 18.5 37ZM18.5 33.3C22.4252 33.3 26.1896 31.7407 28.9652 28.9652C31.7407 26.1896 33.3 22.4252 33.3 18.5C33.3 14.5748 31.7407 10.8104 28.9652 8.03482C26.1896 5.25928 22.4252 3.7 18.5 3.7C14.5748 3.7 10.8104 5.25928 8.03482 8.03482C5.25928 10.8104 3.7 14.5748 3.7 18.5C3.7 22.4252 5.25928 26.1896 8.03482 28.9652C10.8104 31.7407 14.5748 33.3 18.5 33.3Z" fill="#202020"/>
                  <path d="M15.4035 22.0475L10.5409 17.1848L8 19.5065L15.4035 26.9102L29.9916 12.3221L27.6695 10L15.4035 22.0475Z" fill="#202020"/>
                </g>
                <defs>
                  <clipPath id="clip0_834_332">
                    <rect width="37" height="37" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
            <%end%>
          <%else%>
            <button type="submit" class="add-to-list-btn" style="border:none; background:none;">
              <svg width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_829_310)">
                  <path d="M20.35 16.65H27.75V20.35H20.35V27.75H16.65V20.35H9.25V16.65H16.65V9.25H20.35V16.65ZM18.5 37C13.5935 37 8.88795 35.0509 5.41852 31.5815C1.9491 28.1121 0 23.4065 0 18.5C0 13.5935 1.9491 8.88795 5.41852 5.41852C8.88795 1.9491 13.5935 0 18.5 0C23.4065 0 28.1121 1.9491 31.5815 5.41852C35.0509 8.88795 37 13.5935 37 18.5C37 23.4065 35.0509 28.1121 31.5815 31.5815C28.1121 35.0509 23.4065 37 18.5 37ZM18.5 33.3C22.4252 33.3 26.1896 31.7407 28.9652 28.9652C31.7407 26.1896 33.3 22.4252 33.3 18.5C33.3 14.5748 31.7407 10.8104 28.9652 8.03482C26.1896 5.25928 22.4252 3.7 18.5 3.7C14.5748 3.7 10.8104 5.25928 8.03482 8.03482C5.25928 10.8104 3.7 14.5748 3.7 18.5C3.7 22.4252 5.25928 26.1896 8.03482 28.9652C10.8104 31.7407 14.5748 33.3 18.5 33.3Z" fill="#202020"/>
                </g>
                <defs>
                  <clipPath id="clip0_829_310">
                    <rect width="37" height="37" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
              <svg class="hover-btn" width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_834_332)">
                  <path d="M18.5 37C13.5935 37 8.88795 35.0509 5.41852 31.5815C1.9491 28.1121 0 23.4065 0 18.5C0 13.5935 1.9491 8.88795 5.41852 5.41852C8.88795 1.9491 13.5935 0 18.5 0C23.4065 0 28.1121 1.9491 31.5815 5.41852C35.0509 8.88795 37 13.5935 37 18.5C37 23.4065 35.0509 28.1121 31.5815 31.5815C28.1121 35.0509 23.4065 37 18.5 37ZM18.5 33.3C22.4252 33.3 26.1896 31.7407 28.9652 28.9652C31.7407 26.1896 33.3 22.4252 33.3 18.5C33.3 14.5748 31.7407 10.8104 28.9652 8.03482C26.1896 5.25928 22.4252 3.7 18.5 3.7C14.5748 3.7 10.8104 5.25928 8.03482 8.03482C5.25928 10.8104 3.7 14.5748 3.7 18.5C3.7 22.4252 5.25928 26.1896 8.03482 28.9652C10.8104 31.7407 14.5748 33.3 18.5 33.3Z" fill="#202020"/>
                  <path d="M15.4035 22.0475L10.5409 17.1848L8 19.5065L15.4035 26.9102L29.9916 12.3221L27.6695 10L15.4035 22.0475Z" fill="#202020"/>
                </g>
                <defs>
                  <clipPath id="clip0_834_332">
                    <rect width="37" height="37" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
            </button>
          <% end %>
        </div>
        <%= form.hidden_field :artwork_id, value: @designer.id %>
      </div>
    <% end %>
  <% end %>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  // Function to open the popup
  $('#openPopup').click(function() {
      $('#popup').show();
  });
   $('#closePopup').click(function() {
      $('#popup').hide();
  });
  // Function to save to the selected list
  $('#saveToList').click(function() {
      var selectedList = $('#liste').val();
      alert("Enregistrer l'œuvre dans la liste : " + selectedList);
      // You can now use 'selectedList' to save the artwork to the chosen list
      $('#popup').hide();
  });
</script>
<script>
  document.getElementById('back-btn').addEventListener('click', function() {
    const referrer = document.referrer;

    if (referrer && referrer.includes(window.location.hostname)) {
      window.history.back();
    } else {
      window.location.href = 'https://omniscientdesign.fr';
    }
  });
</script>
